{"filter":false,"title":"chainPromises.js","tooltip":"/src/shared/utils/chainPromises.js","undoManager":{"mark":30,"position":30,"stack":[[{"start":{"row":0,"column":0},"end":{"row":27,"column":1},"action":"insert","lines":["/ Named badly, takes an array of function returning promises,","// And chain them passing what was resolved as the function arg","export default function chainPromises(array) {","  ","  return new Promise((resolve, reject) => {","    ","    const l = array.length;","    ","    function recurse(i, arg) {","      ","      if (i === l) return resolve();","      ","      const fn = array[i];","      if (typeof fn === 'function') {","        const promise = fn(arg);","        ","        promise && promise.then ? ","          promise.then(recurse.bind(this, i + 1), reject) : ","          recurse(i + 1);","      } ","      else {","        throw new Error(`chainPromises - arg at position ${i} is not a function`);","      }","    }","    ","    recurse(0);","  });","}"],"id":1}],[{"start":{"row":27,"column":1},"end":{"row":28,"column":0},"action":"insert","lines":["",""],"id":2}],[{"start":{"row":0,"column":0},"end":{"row":0,"column":1},"action":"insert","lines":["/"],"id":3}],[{"start":{"row":2,"column":37},"end":{"row":2,"column":38},"action":"insert","lines":["P"],"id":4}],[{"start":{"row":20,"column":11},"end":{"row":21,"column":8},"action":"remove","lines":["{","        "],"id":5}],[{"start":{"row":21,"column":6},"end":{"row":21,"column":7},"action":"remove","lines":["}"],"id":6}],[{"start":{"row":21,"column":0},"end":{"row":22,"column":0},"action":"remove","lines":["      ",""],"id":7}],[{"start":{"row":19,"column":8},"end":{"row":20,"column":0},"action":"insert","lines":["",""],"id":8},{"start":{"row":20,"column":0},"end":{"row":20,"column":6},"action":"insert","lines":["      "]}],[{"start":{"row":21,"column":44},"end":{"row":21,"column":47},"action":"remove","lines":["arg"],"id":9},{"start":{"row":21,"column":44},"end":{"row":21,"column":45},"action":"insert","lines":["i"]}],[{"start":{"row":21,"column":45},"end":{"row":21,"column":46},"action":"insert","lines":["t"],"id":10}],[{"start":{"row":21,"column":46},"end":{"row":21,"column":47},"action":"insert","lines":["e"],"id":11}],[{"start":{"row":21,"column":47},"end":{"row":21,"column":48},"action":"insert","lines":["m"],"id":12}],[{"start":{"row":21,"column":44},"end":{"row":21,"column":48},"action":"remove","lines":["item"],"id":13},{"start":{"row":21,"column":44},"end":{"row":21,"column":45},"action":"insert","lines":["o"]}],[{"start":{"row":21,"column":45},"end":{"row":21,"column":46},"action":"insert","lines":["b"],"id":14}],[{"start":{"row":21,"column":46},"end":{"row":21,"column":47},"action":"insert","lines":["j"],"id":15}],[{"start":{"row":21,"column":47},"end":{"row":21,"column":48},"action":"insert","lines":["e"],"id":16}],[{"start":{"row":21,"column":48},"end":{"row":21,"column":49},"action":"insert","lines":["c"],"id":17}],[{"start":{"row":21,"column":49},"end":{"row":21,"column":50},"action":"insert","lines":["t"],"id":18}],[{"start":{"row":21,"column":54},"end":{"row":21,"column":62},"action":"remove","lines":["position"],"id":19},{"start":{"row":21,"column":54},"end":{"row":21,"column":55},"action":"insert","lines":["i"]}],[{"start":{"row":21,"column":55},"end":{"row":21,"column":56},"action":"insert","lines":["n"],"id":20}],[{"start":{"row":21,"column":56},"end":{"row":21,"column":57},"action":"insert","lines":["d"],"id":21}],[{"start":{"row":21,"column":57},"end":{"row":21,"column":58},"action":"insert","lines":["e"],"id":22}],[{"start":{"row":21,"column":58},"end":{"row":21,"column":59},"action":"insert","lines":["x"],"id":23}],[{"start":{"row":21,"column":54},"end":{"row":21,"column":55},"action":"insert","lines":["a"],"id":24}],[{"start":{"row":21,"column":55},"end":{"row":21,"column":56},"action":"insert","lines":["r"],"id":25}],[{"start":{"row":21,"column":56},"end":{"row":21,"column":57},"action":"insert","lines":["g"],"id":26}],[{"start":{"row":21,"column":57},"end":{"row":21,"column":58},"action":"insert","lines":[" "],"id":27}],[{"start":{"row":21,"column":57},"end":{"row":21,"column":58},"action":"remove","lines":[" "],"id":28}],[{"start":{"row":21,"column":56},"end":{"row":21,"column":57},"action":"remove","lines":["g"],"id":29}],[{"start":{"row":21,"column":55},"end":{"row":21,"column":56},"action":"remove","lines":["r"],"id":30}],[{"start":{"row":21,"column":54},"end":{"row":21,"column":55},"action":"remove","lines":["a"],"id":31}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":12,"column":13},"end":{"row":12,"column":13},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1447958152678,"hash":"0b3512aeba01740044be0b36e9d122dd0cadf508"}